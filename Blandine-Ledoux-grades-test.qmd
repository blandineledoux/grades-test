---
title: "grades-test-Blandine-Ledoux"
author: "Blandine Ledoux"

format: html
---
# Introduction

## Question 1

```{r}
library(dplyr)
library(readr)
library(tidyr)
grades <- read.csv("grades.csv")
```

# Simple analyses

## Question 2

```{r}

```

## Question 3
```{r}
library(knitr)
unique_students <- grades %>% distinct(id)
num_students <- nrow(unique_students)
unique_students %>% slice_head(n = 5) %>% knitr::kable()
```

## Question 4

```{r}
students <- grades %>% distinct(id, group)
students %>% slice_head(n = 5) %>% knitr::kable()
```

## Question 5

```{r}
library(ggplot2)
grades %>%
  distinct(id, group) %>%
  count(group) %>%
  ggplot(aes(x = factor(group), y = n)) +
  geom_bar(stat = "identity") +
  labs(x = "Group", y = "Number of Students", title = "Number of Students per Group")
```

## Question 6

```{r}
grades %>%
  filter(course == "History of Feudal Japan") %>%
  group_by(group) %>%
  summarize(avg_grade = mean(grade, na.rm = TRUE)) %>%
  ggplot(aes(x = factor(group), y = avg_grade)) +
  geom_col() +
  labs(x = "Group", y = "Average Grade", title = "Average Grades in History of Feudal Japan by Group")
```

## Question 7

```{r}
grades %>%
  ggplot(aes(x = grade, fill = factor(semester))) +
  geom_density(alpha = 0.5) +
  facet_wrap(~ semester) +
  labs(x = "Grade", y = "Density", fill = "Semester", title = "Distribution of Grades by Semester")
```

# Attendance analysis

## Question 8

```{r}
grades_per_student <- grades %>%
  group_by(id, group) %>%
  summarize(
    num_grades = n(),
    min_grade = min(grade),
    max_grade = max(grade),
    avg_grade = mean(grade),
    median_grade = median(grade),
    .groups = "drop"
  )
grades_per_student %>% slice_head(n = 5) %>% knitr::kable()
```

